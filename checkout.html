<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Оформление заказа</title>
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <script src="https://api-maps.yandex.ru/2.1/?apikey=aa9feae8-022d-44d2-acb1-8cc0198f451d&lang=ru_RU" type="text/javascript"></script>
</head>
<body>
    <header class="header">
        <div class="header__container">
            <button class="header__burger" id="mobileMenuToggle">
                <span></span>
                <span></span>
                <span></span>
            </button>
            
            <nav class="header__nav">
                <ul class="header__menu">
                    <li class="header__item">
                        <a href="#" class="header__link">О компании</a>
                    </li>
                    <li class="header__item">
                        <a href="#" class="header__link">Каталог</a>
                    </li>
                    <li class="header__item">
                        <a href="#" class="header__link">Связаться с нами</a>
                    </li>
                </ul>
            </nav>
            
            <div class="header__actions">
                <button class="header__button header__button--login">Войти</button>
                <button class="header__button header__button--cart">
                    <img src="/assets/img/cart.svg" alt="">
                    <span class="header__cart-count" id="cartCount">3</span>
                </button>
            </div>
        </div>
        
        <!-- Мобильное меню -->
        <div class="mobile-menu" id="mobileMenu">
            <div class="mobile-menu__overlay"></div>
            <div class="mobile-menu__content">
                <button class="mobile-menu__close" id="mobileMenuClose">×</button>
                <nav class="mobile-menu__nav">
                    <ul class="mobile-menu__list">
                        <li class="mobile-menu__item">
                            <a href="#" class="mobile-menu__link">О компании</a>
                        </li>
                        <li class="mobile-menu__item">
                            <a href="#" class="mobile-menu__link">Каталог</a>
                        </li>
                        <li class="mobile-menu__item">
                            <a href="#" class="mobile-menu__link">Связаться с нами</a>
                        </li>
                    </ul>
                </nav>
                <div class="mobile-menu__actions">
                    <button class="mobile-menu__button mobile-menu__button--login">Войти</button>
                    <button class="mobile-menu__button mobile-menu__button--cart">
                        Корзина
                        <span class="mobile-menu__cart-count" id="mobileCartCount">3</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <main class="checkout">
        <div class="checkout__container">
            <h1 class="checkout__title" data-aos="fade-down" data-aos-delay="200">Оформление заказа</h1>
            <a href="#" class="checkout__edit-link" data-aos="fade-down" data-aos-delay="300">Редактировать заказ</a>

            <!-- Товары в заказе -->
            <div class="checkout__items" data-aos="fade-up" data-aos-delay="400">
                <div class="checkout__item">
                    <img src="assets/img/macaron-1.png" alt="Макаронс Фисташка - Малина" class="checkout__item-image">
                    <h3 class="checkout__item-title">Макаронс Фисташка - Малина</h3>
                    <div class="checkout__item-info">12 400 KZT x 1 ед.</div>
                    <div class="checkout__item-total">12 400 KZT</div>
                </div>
                
                <div class="checkout__item">
                    <img src="assets/img/macaron-1.png" alt="Макаронс Фисташка - Малина" class="checkout__item-image">
                    <h3 class="checkout__item-title">Макаронс Фисташка - Малина</h3>
                    <div class="checkout__item-info">12 400 KZT x 1 ед.</div>
                    <div class="checkout__item-total">12 400 KZT</div>
                </div>
                
                <div class="checkout__item">
                    <img src="assets/img/macaron-1.png" alt="Макаронс Фисташка - Малина" class="checkout__item-image">
                    <h3 class="checkout__item-title">Макаронс Фисташка - Малина</h3>
                    <div class="checkout__item-info">12 400 KZT x 1 ед.</div>
                    <div class="checkout__item-total">12 400 KZT</div>
                </div>
            </div>

            <div class="checkout__promo" data-aos="fade-up" data-aos-delay="500">
                <a href="#" class="checkout__promo-link" id="openPromoPopup">Промокод +</a>
                <div class="checkout__total">
                    <span class="checkout__total-text">К оплате:</span>
                    <span class="checkout__total-price" id="totalPrice">377 200 KZT</span>
                </div>
            </div>

            <!-- Доставка -->
            <div class="checkout__section" data-aos="fade-right" data-aos-delay="600">
                <h2 class="checkout__section-title">Доставка</h2>
                
                <div class="checkout__option">
                    <label class="checkout__option-label">
                        <input type="radio" name="delivery" value="pickup" checked>
                        <span class="checkout__option-checkbox"></span>
                        <span class="checkout__option-text">Самовывоз из нашего магазина (с 9 до 22)</span>
                        <span class="checkout__option-price">Бесплатно</span>
                    </label>
                    
                    <!-- Детали для самовывоза -->
                    <div class="checkout__option-details" id="pickupDetails">
                        <div class="checkout__option-address">
                            <input type="text" value="Астана. Проспект Улы Дала 45/1" class="checkout__option-input">
                            <img src="assets/img/location-icon.svg" alt="Локация" class="checkout__option-icon">
                        </div>
                        <button class="checkout__option-map-btn" id="openMapPopup">Выбрать на карте</button>
                    </div>
                </div>

                <div class="checkout__option">
                    <label class="checkout__option-label">
                        <input type="radio" name="delivery" value="delivery">
                        <span class="checkout__option-checkbox"></span>
                        <span class="checkout__option-text">Доставка на адрес (в течении 1 часа)</span>
                        <span class="checkout__option-price">990 KZT</span>
                    </label>
                    
                    <!-- Детали для доставки -->
                    <div class="checkout__option-details" id="deliveryDetails" style="display: none;">
                        <div class="checkout__option-time-info">Утро, день, вечер, 9-12, 12-15 (как в каспи магнум)</div>
                        <div class="checkout__option-address">
                            <input type="text" value="Астана. Проспект Улы Дала 45/1" class="checkout__option-input">
                            <img src="assets/img/location-icon.svg" alt="Локация" class="checkout__option-icon">
                        </div>
                        <button class="checkout__option-map-btn" id="openMapPopup2">Выбрать на карте</button>
                    </div>
                </div>
            </div>

            <!-- Оплата -->
            <div class="checkout__section" data-aos="fade-left" data-aos-delay="700">
                <h2 class="checkout__section-title">Оплата</h2>
                
                <div class="checkout__option">
                    <label class="checkout__option-label">
                        <input type="radio" name="payment" value="on-receipt" checked>
                        <span class="checkout__option-checkbox"></span>
                        <span class="checkout__option-text">Оплата во время получения заказа</span>
                    </label>
                </div>

                <div class="checkout__option">
                    <label class="checkout__option-label">
                        <input type="radio" name="payment" value="now">
                        <span class="checkout__option-checkbox"></span>
                        <span class="checkout__option-text">Оплатить сейчас</span>
                    </label>
                    
                    <!-- Подварианты для "Оплатить сейчас" -->
                    <div class="checkout__option-details" id="paymentNowDetails" style="display: none;">
                        <div class="checkout__payment-methods">
                            <label class="checkout__payment-method">
                                <input type="radio" name="payment-method" value="kaspi">
                                <span class="checkout__payment-checkbox"></span>
                                <span class="checkout__payment-text">Каспи</span>
                                <span class="checkout__payment-icon"><img src="/assets/img/payment_1.svg" alt=""></span>
                            </label>
                            
                            <label class="checkout__payment-method">
                                <input type="radio" name="payment-method" value="bank-card">
                                <span class="checkout__payment-checkbox"></span>
                                <span class="checkout__payment-text">Карта банка</span>
                                <span class="checkout__payment-icon"><img src="/assets/img/payment_2.svg" alt=""></span>
                            </label>
                            
                            <label class="checkout__payment-method">
                                <input type="radio" name="payment-method" value="google-pay">
                                <span class="checkout__payment-checkbox"></span>
                                <span class="checkout__payment-text">Google Pay</span>
                                <span class="checkout__payment-icon"><img src="/assets/img/payment_3.svg" alt=""></span>
                            </label>
                            
                            <label class="checkout__payment-method">
                                <input type="radio" name="payment-method" value="apple-pay">
                                <span class="checkout__payment-checkbox"></span>
                                <span class="checkout__payment-text">Apple Pay</span>
                                <span class="checkout__payment-icon"><img src="/assets/img/payment_4.svg" alt=""></span>
                            </label>
                        </div>
                    </div>
                </div>

                <div class="checkout__option">
                    <label class="checkout__option-label">
                        <input type="radio" name="payment" value="bank">
                        <span class="checkout__option-checkbox"></span>
                        <span class="checkout__option-text">Безналичный перевод для оптовых покупателей</span>
                    </label>
                </div>
            </div>

            <!-- Комментарий к заказу -->
            <div class="checkout__section" data-aos="fade-up" data-aos-delay="800">
                <h2 class="checkout__section-title">Комментарий к заказу</h2>
                
                <div class="checkout__comment-buttons">
                    <button class="checkout__comment-btn checkout__comment-btn--outline">Добавить открытку</button>
                    <button class="checkout__comment-btn checkout__comment-btn--filled">Упаковать в пленку</button>
                    <button class="checkout__comment-btn checkout__comment-btn--outline">Подготовить заранее</button>
                </div>
                
                <textarea class="checkout__comment-textarea" placeholder="Ваш комментарий"></textarea>
            </div>

            <!-- Получатель -->
            <div class="checkout__section" data-aos="fade-up" data-aos-delay="900">
                <h2 class="checkout__section-title">Получатель</h2>
                
                <div class="checkout__recipient-options">
                    <label class="checkout__recipient-option">
                        <input type="radio" name="recipient" value="self" checked>
                        <span class="checkout__recipient-checkbox"></span>
                        <span class="checkout__recipient-text">Я сам</span>
                    </label>
                    
                    <label class="checkout__recipient-option">
                        <input type="radio" name="recipient" value="other">
                        <span class="checkout__recipient-checkbox"></span>
                        <span class="checkout__recipient-text">Другой</span>
                    </label>
                </div>

                <!-- Поля для другого получателя -->
                <div class="checkout__recipient-details" id="recipientDetails" style="display: none;">
                    <div class="checkout__recipient-fields">
                        <div class="checkout__recipient-field">
                            <input type="text" class="checkout__recipient-input" placeholder="Имя">
                        </div>
                        <div class="checkout__recipient-field">
                            <input type="text" class="checkout__recipient-input" placeholder="Телефон">
                        </div>
                        <div class="checkout__recipient-field">
                            <input type="text" class="checkout__recipient-input" placeholder="Фамилия">
                        </div>
                        <div class="checkout__recipient-field">
                            <input type="email" class="checkout__recipient-input" placeholder="Почта (необязательно)">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Кнопка подтверждения -->
            <button class="checkout__confirm-btn" data-aos="zoom-in" data-aos-delay="1000">Заказ подтверждаю</button>
        </div>
    </main>

    <!-- Попап промокода -->
    <div class="promo-popup" id="promoPopup">
        <div class="promo-popup__overlay"></div>
        <div class="promo-popup__content">
            <div class="promo-popup__header">
                <h2 class="promo-popup__title">Введите промокод</h2>
                <button class="promo-popup__close" id="closePromoPopup">×</button>
            </div>
            
            <div class="promo-popup__body">
                <input type="text" class="promo-popup__input" id="promoInput" placeholder="Введите промокод">
                <div class="promo-popup__message" id="promoMessage"></div>
            </div>
            
            <div class="promo-popup__footer">
                <button class="promo-popup__cancel-btn" id="cancelPromo">Отмена</button>
                <button class="promo-popup__apply-btn" id="applyPromo">Применить</button>
            </div>
        </div>
    </div>

    <!-- Попап карты -->
    <div class="map-popup" id="mapPopup">
        <div class="map-popup__overlay"></div>
        <div class="map-popup__content">
            <div class="map-popup__header">
                <h2 class="map-popup__title">Выберите адрес на карте</h2>
                <button class="map-popup__close" id="closeMapPopup">×</button>
            </div>
            
            <div class="map-popup__body">
                <div class="map-popup__map" id="yandexMap"></div>
                <div class="map-popup__address">
                    <input type="text" class="map-popup__input" id="mapAddressInput" value="Астана. Проспект Улы Дала 45/1">
                </div>
            </div>
            
            <div class="map-popup__footer">
                <button class="map-popup__cancel-btn" id="cancelMap">Отмена</button>
                <button class="map-popup__confirm-btn" id="confirmMap">Подтвердить</button>
            </div>
        </div>
    </div>

    <!-- Попап успешного заказа -->
    <div class="success-popup" id="successPopup">
        <div class="success-popup__overlay"></div>
        <div class="success-popup__content">
            <button class="success-popup__close" id="closeSuccessPopup">×</button>
            <h2 class="success-popup__title">Ваш заказ принят</h2>
            <p class="success-popup__order-number">Номер заказа 123456</p>
            <div class="success-popup__icon">
                <svg width="90" height="90" viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M7.5 46.3333L32.5 72L82.5 17" stroke="#EBE3D0" stroke-width="8" stroke-linecap="round" stroke-linejoin="round" />
                  </svg>
            </div>
            <button class="success-popup__btn" id="continueShopping">Продолжить покупки</button>
        </div>
    </div>

    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script src="assets/js/mobile-menu.js"></script>
    <script src="assets/js/checkout.js"></script>
    <script>
        AOS.init({
            duration: 1000,
            once: true,
            offset: 100
        });
    </script>
</body>
</html>
